---
title: 'Pimp My Git - Git Mergetool'
date: Thu, 25 May 2017 10:33:47 +0000
draft: false
tags: ['Continuous Integration', 'Git', 'linux', 'Linux', 'meld', 'merging', 'Windows']
---

I like to work with git on the command line. But in some cases I prefer UI support. For example, solving merge conflicts is such a case. Git has a command _mergetool_, which can open a graphical tool to solve merge conflicts. But before you can use this command, you had to configure it. In this blog post I'd like to show you how to configure mergetool and how to use it.

Configuration
-------------

First at all, open a shell on Linux. On Windows, open Git Bash. Then choose a graphic tool that should support you solving merge conflicts. _git mergetool --tool-help_ shows a list which tools are supported on your machine \[code language="bash"\]  sparsick@sparsick-ThinkPad-T430s > git mergetool --tool-help 'git mergetool --tool=<tool>' may be set to one of the following:                 araxis                 kdiff3                 meld The following tools are valid, but not currently available:                 bc                 bc3                 codecompare                 deltawalker                 diffmerge                 diffuse                 ecmerge                 emerge                 gvimdiff                 gvimdiff2                 gvimdiff3                 opendiff                 p4merge                 tkdiff                 tortoisemerge                 vimdiff                 vimdiff2                 vimdiff3                 winmerge                 xxdiff Some of the tools listed above only work in a windowed environment. If run in a terminal-only session, they will fail. \[/code\] This command shows two lists. The first list shows all tools that are supported by git **and** that are available on your machine (in sample, it is _araxis_, _kdiff3_ and _meld_). The second list shows that are also supported by git, but they aren't install on your machine. I use _meld_ as graphical tool. It's runnable on Windows and Linux. If you haven't install _meld_ on your machine, then it's now the right time to do it or choose another tool. We want to set _mergetool_ globally for all our repositories. \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git config --global merge.tool meld sparsick@sparsick-ThinkPad-T430s > git mergetool No files need merging \[/code\] If _git mergetool_ returns more than _No files need merging,_ then the path to your graphic tool isn't set in your _$PATH_ system variable (The normal case on Windows systems). It's possible to set the path to the graphical tool directly in git. \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git config --global mergetool.meld.path /c/Program\\ Files\\ \\(x86\\)/Meld/Meld.exe</pre> \[/code\] Bear two important things in mind: _mergetool_ is written without a dot between _merge_ and _tool_ and _meld_ is a placeholder for the name of the graphical tool in the above sample. If you use another tool such like _vimdiff_, then the config key is called _mergetool.vimdiff.path ._ Now _git mergetool_ is ready to use.

Usage
-----

Now I'd like to demonstrate how to use _git mergetool._ It is used in when we have merge conflicts during a merge action. Let's say we want to merge branch _branch1_ into _master_ and this merge will have some merge conflicts. \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git merge branch1 Auto-merging test CONFLICT (content): Merge conflict in test Automatic merge failed; fix conflicts and then commit the result. \[/code\] Now, we want to solve these conflicts with a graphical tool (in the example, it's meld). _git mergetool_ on the command line open the graphical tool of our choice. \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git mergetool Merging: test Normal merge conflict for 'test': {local}: modified file {remote}: modified file \[/code\] After solving the merge conflicts, the change has to commit. \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git status On branch master All conflicts fixed but you are still merging. (use "git commit" to conclude merge) Changes to be committed: modified:   test Untracked files: (use "git add <file>..." to include in what will be committed) test.orig sparsick@sparsick-ThinkPad-T430s > git commit \[/code\] You can see that we have a new untracked file _test.orig ._ This is a backup of the merged file created by _mergetool._ You can configure that this backup should be removed after a successful merge. \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git config --global mergetool.keepBackup false \[/code\] Further files are created when using _git mergetool_: \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git status On branch master Untracked files: (use "git add ..." to include in what will be committed) test.BACKUP.7344 test.BASE.7344 test.LOCAL.7344 test.REMOTE.7344 \[/code\] If only these files are currently untracked, then a _git clean_ can help. Otherwise they have to be removed manually. \[code language="bash"\] sparsick@sparsick-ThinkPad-T430s > git clean -f Removing test.BACKUP.7344 Removing test.BASE.7344 Removing test.LOCAL.7344 Removing test.REMOTE.734 \[/code\]

Links
-----

1.  [Meld Homepage](http://meldmerge.org/)
2.  [git mergetool Documentation](https://www.git-scm.com/docs/git-mergetool)